{
  "manifest": {
    "name": "abstract-leveldown",
    "version": "6.2.3",
    "description": "An abstract prototype matching the LevelDOWN API",
    "license": "MIT",
    "main": "index.js",
    "browser": {
      "./next-tick.js": "./next-tick-browser.js"
    },
    "scripts": {
      "test": "standard && hallmark && nyc node test/self.js",
      "test-browsers": "airtap --coverage --loopback airtap.local test/self.js",
      "test-browser-local": "airtap --coverage --local test/self.js",
      "coverage": "nyc report --reporter=text-lcov | coveralls",
      "hallmark": "hallmark --fix",
      "dependency-check": "dependency-check . test/*.js",
      "prepublishOnly": "npm run dependency-check"
    },
    "dependencies": {
      "buffer": "^5.5.0",
      "immediate": "^3.2.3",
      "level-concat-iterator": "~2.0.0",
      "level-supports": "~1.0.0",
      "xtend": "~4.0.0"
    },
    "devDependencies": {
      "airtap": "^3.0.0",
      "coveralls": "^3.0.2",
      "dependency-check": "^3.3.0",
      "hallmark": "^2.0.0",
      "level-community": "^3.0.0",
      "nyc": "^14.0.0",
      "sinon": "^7.2.4",
      "standard": "^14.0.0",
      "tape": "^4.10.0"
    },
    "hallmark": {
      "community": "level-community"
    },
    "repository": {
      "type": "git",
      "url": "https://github.com/Level/abstract-leveldown.git"
    },
    "homepage": "https://github.com/Level/abstract-leveldown",
    "keywords": [
      "level",
      "leveldb",
      "leveldown",
      "levelup"
    ],
    "engines": {
      "node": ">=6"
    },
    "_registry": "npm",
    "_loc": "/home/jovyan/.cache/yarn/v6/npm-abstract-leveldown-6.2.3-036543d87e3710f2528e47040bc3261b77a9a8eb-integrity/node_modules/abstract-leveldown/package.json",
    "readmeFilename": "README.md",
    "readme": "# abstract-leveldown\n\n> An abstract prototype matching the [`leveldown`][leveldown] API. Useful for extending [`levelup`](https://github.com/Level/levelup) functionality by providing a replacement to `leveldown`.\n\n[![level badge][level-badge]](https://github.com/Level/awesome)\n[![npm](https://img.shields.io/npm/v/abstract-leveldown.svg?label=&logo=npm)](https://www.npmjs.com/package/abstract-leveldown)\n[![Node version](https://img.shields.io/node/v/abstract-leveldown.svg)](https://www.npmjs.com/package/abstract-leveldown)\n[![Travis](https://img.shields.io/travis/com/Level/abstract-leveldown.svg?logo=travis&label=)](https://travis-ci.com/Level/abstract-leveldown)\n[![Coverage Status](https://coveralls.io/repos/github/Level/abstract-leveldown/badge.svg)](https://coveralls.io/github/Level/abstract-leveldown)\n[![JavaScript Style Guide](https://img.shields.io/badge/code_style-standard-brightgreen.svg)](https://standardjs.com)\n[![npm](https://img.shields.io/npm/dm/abstract-leveldown.svg?label=dl)](https://www.npmjs.com/package/abstract-leveldown)\n[![Backers on Open Collective](https://opencollective.com/level/backers/badge.svg?color=orange)](#backers)\n[![Sponsors on Open Collective](https://opencollective.com/level/sponsors/badge.svg?color=orange)](#sponsors)\n\n## Table of Contents\n\n<details><summary>Click to expand</summary>\n\n- [Background](#background)\n- [Example](#example)\n- [Browser Support](#browser-support)\n- [Public API For Consumers](#public-api-for-consumers)\n- [Private API For Implementors](#private-api-for-implementors)\n- [Test Suite](#test-suite)\n- [Spread The Word](#spread-the-word)\n- [Install](#install)\n- [Contributing](#contributing)\n- [Big Thanks](#big-thanks)\n- [Donate](#donate)\n- [License](#license)\n\n</details>\n\n## Background\n\nThis module provides a simple base prototype for a key-value store. It has a public API for consumers and a private API for implementors. To implement a `abstract-leveldown` compliant store, extend its prototype and override the private underscore versions of the methods. For example, to implement `put()`, override `_put()` on your prototype.\n\nWhere possible, the default private methods have sensible _noop_ defaults that essentially do nothing. For example, `_open(callback)` will invoke `callback` on a next tick. Other methods like `_clear(..)` have functional defaults. Each method listed below documents whether implementing it is mandatory.\n\nThe private methods are always provided with consistent arguments, regardless of what is passed in through the public API. All public methods provide argument checking: if a consumer calls `open()` without a callback argument they'll get an `Error('open() requires a callback argument')`.\n\nWhere optional arguments are involved, private methods receive sensible defaults: a `get(key, callback)` call translates to `_get(key, options, callback)` where the `options` argument is an empty object. These arguments are documented below.\n\n**If you are upgrading:** please see [UPGRADING.md](UPGRADING.md).\n\n## Example\n\nLet's implement a simplistic in-memory [`leveldown`][leveldown] replacement:\n\n```js\nvar AbstractLevelDOWN = require('abstract-leveldown').AbstractLevelDOWN\nvar util = require('util')\n\n// Constructor\nfunction FakeLevelDOWN () {\n  AbstractLevelDOWN.call(this)\n}\n\n// Our new prototype inherits from AbstractLevelDOWN\nutil.inherits(FakeLevelDOWN, AbstractLevelDOWN)\n\nFakeLevelDOWN.prototype._open = function (options, callback) {\n  // Initialize a memory storage object\n  this._store = {}\n\n  // Use nextTick to be a nice async citizen\n  process.nextTick(callback)\n}\n\nFakeLevelDOWN.prototype._serializeKey = function (key) {\n  // As an example, prefix all input keys with an exclamation mark.\n  // Below methods will receive serialized keys in their arguments.\n  return '!' + key\n}\n\nFakeLevelDOWN.prototype._put = function (key, value, options, callback) {\n  this._store[key] = value\n  process.nextTick(callback)\n}\n\nFakeLevelDOWN.prototype._get = function (key, options, callback) {\n  var value = this._store[key]\n\n  if (value === undefined) {\n    // 'NotFound' error, consistent with LevelDOWN API\n    return process.nextTick(callback, new Error('NotFound'))\n  }\n\n  process.nextTick(callback, null, value)\n}\n\nFakeLevelDOWN.prototype._del = function (key, options, callback) {\n  delete this._store[key]\n  process.nextTick(callback)\n}\n```\n\nNow we can use our implementation with `levelup`:\n\n```js\nvar levelup = require('levelup')\n\nvar db = levelup(new FakeLevelDOWN())\n\ndb.put('foo', 'bar', function (err) {\n  if (err) throw err\n\n  db.get('foo', function (err, value) {\n    if (err) throw err\n\n    console.log(value) // 'bar'\n  })\n})\n```\n\nSee [`memdown`](https://github.com/Level/memdown/) if you are looking for a complete in-memory replacement for `leveldown`.\n\n## Browser Support\n\n[![Sauce Test Status](https://saucelabs.com/browser-matrix/abstract-leveldown.svg)](https://saucelabs.com/u/abstract-leveldown)\n\n## Public API For Consumers\n\n### `db = constructor(..)`\n\nConstructors typically take a `location` argument pointing to a location on disk where the data will be stored. Since not all implementations are disk-based and some are non-persistent, implementors are free to take zero or more arguments in their constructor.\n\n### `db.status`\n\nA read-only property. An `abstract-leveldown` compliant store can be in one of the following states:\n\n- `'new'` - newly created, not opened or closed\n- `'opening'` - waiting for the store to be opened\n- `'open'` - successfully opened the store, available for use\n- `'closing'` - waiting for the store to be closed\n- `'closed'` - store has been successfully closed, should not be used.\n\n### `db.supports`\n\nA read-only [manifest](https://github.com/Level/supports). Might be used like so:\n\n```js\nif (!db.supports.permanence) {\n  throw new Error('Persistent storage is required')\n}\n\nif (db.supports.bufferKeys && db.supports.promises) {\n  await db.put(Buffer.from('key'), 'value')\n}\n```\n\n### `db.open([options, ]callback)`\n\nOpen the store. The `callback` function will be called with no arguments when the store has been successfully opened, or with a single error argument if the open operation failed for any reason.\n\nThe optional `options` argument may contain:\n\n- `createIfMissing` _(boolean, default: `true`)_: If `true` and the store doesn't exist it will be created. If `false` and the store doesn't exist, `callback` will receive an error.\n- `errorIfExists` _(boolean, default: `false`)_: If `true` and the store exists, `callback` will receive an error.\n\nNot all implementations support the above options.\n\n### `db.close(callback)`\n\nClose the store. The `callback` function will be called with no arguments if the operation is successful or with a single `error` argument if closing failed for any reason.\n\n### `db.get(key[, options], callback)`\n\nGet a value from the store by `key`. The optional `options` object may contain:\n\n- `asBuffer` _(boolean, default: `true`)_: Whether to return the `value` as a Buffer. If `false`, the returned type depends on the implementation.\n\nThe `callback` function will be called with an `Error` if the operation failed for any reason. If successful the first argument will be `null` and the second argument will be the value.\n\n### `db.put(key, value[, options], callback)`\n\nStore a new entry or overwrite an existing entry. There are no `options` by default but implementations may add theirs. The `callback` function will be called with no arguments if the operation is successful or with an `Error` if putting failed for any reason.\n\n### `db.del(key[, options], callback)`\n\nDelete an entry. There are no `options` by default but implementations may add theirs. The `callback` function will be called with no arguments if the operation is successful or with an `Error` if deletion failed for any reason.\n\n### `db.batch(operations[, options], callback)`\n\nPerform multiple _put_ and/or _del_ operations in bulk. The `operations` argument must be an `Array` containing a list of operations to be executed sequentially, although as a whole they are performed as an atomic operation.\n\nEach operation is contained in an object having the following properties: `type`, `key`, `value`, where the `type` is either `'put'` or `'del'`. In the case of `'del'` the `value` property is ignored.\n\nThere are no `options` by default but implementations may add theirs. The `callback` function will be called with no arguments if the batch is successful or with an `Error` if the batch failed for any reason.\n\n### `db.batch()`\n\nReturns a [`chainedBatch`](#chainedbatch).\n\n### `db.iterator([options])`\n\nReturns an [`iterator`](#iterator). Accepts the following range options:\n\n- `gt` (greater than), `gte` (greater than or equal) define the lower bound of the range to be iterated. Only entries where the key is greater than (or equal to) this option will be included in the range. When `reverse=true` the order will be reversed, but the entries iterated will be the same.\n- `lt` (less than), `lte` (less than or equal) define the higher bound of the range to be iterated. Only entries where the key is less than (or equal to) this option will be included in the range. When `reverse=true` the order will be reversed, but the entries iterated will be the same.\n- `reverse` _(boolean, default: `false`)_: iterate entries in reverse order. Beware that a reverse seek can be slower than a forward seek.\n- `limit` _(number, default: `-1`)_: limit the number of entries collected by this iterator. This number represents a _maximum_ number of entries and may not be reached if you get to the end of the range first. A value of `-1` means there is no limit. When `reverse=true` the entries with the highest keys will be returned instead of the lowest keys.\n\nLegacy options:\n\n- `start`: instead use `gte`\n- `end`: instead use `lte`.\n\n**Note** Zero-length strings, buffers and arrays as well as `null` and `undefined` are invalid as keys, yet valid as range options. These types are significant in encodings like [`bytewise`](https://github.com/deanlandolt/bytewise) and [`charwise`](https://github.com/dominictarr/charwise) as well as some underlying stores like IndexedDB. Consumers of an implementation should assume that `{ gt: undefined }` is _not_ the same as `{}`. An implementation can choose to:\n\n- [_Serialize_](#db_serializekeykey) or [_encode_][encoding-down] these types to make them meaningful\n- Have no defined behavior (moving the concern to a higher level)\n- Delegate to an underlying store (moving the concern to a lower level).\n\nIf you are an implementor, a final note: the [abstract test suite](#test-suite) does not test these types. Whether they are supported or how they sort is up to you; add custom tests accordingly.\n\nIn addition to range options, `iterator()` takes the following options:\n\n- `keys` _(boolean, default: `true`)_: whether to return the key of each entry. If set to `false`, calls to `iterator.next(callback)` will yield keys with a value of `undefined`.\n- `values` _(boolean, default: `true`)_: whether to return the value of each entry. If set to `false`, calls to `iterator.next(callback)` will yield values with a value of `undefined`.\n- `keyAsBuffer` _(boolean, default: `true`)_: Whether to return the key of each entry as a Buffer. If `false`, the returned type depends on the implementation.\n- `valueAsBuffer` _(boolean, default: `true`)_: Whether to return the value of each entry as a Buffer.\n\nLastly, an implementation is free to add its own options.\n\n### `db.clear([options, ]callback)`\n\n**This method is experimental. Not all implementations support it yet.**\n\nDelete all entries or a range. Not guaranteed to be atomic. Accepts the following range options (with the same rules as on iterators):\n\n- `gt` (greater than), `gte` (greater than or equal) define the lower bound of the range to be deleted. Only entries where the key is greater than (or equal to) this option will be included in the range. When `reverse=true` the order will be reversed, but the entries deleted will be the same.\n- `lt` (less than), `lte` (less than or equal) define the higher bound of the range to be deleted. Only entries where the key is less than (or equal to) this option will be included in the range. When `reverse=true` the order will be reversed, but the entries deleted will be the same.\n- `reverse` _(boolean, default: `false`)_: delete entries in reverse order. Only effective in combination with `limit`, to remove the last N records.\n- `limit` _(number, default: `-1`)_: limit the number of entries to be deleted. This number represents a _maximum_ number of entries and may not be reached if you get to the end of the range first. A value of `-1` means there is no limit. When `reverse=true` the entries with the highest keys will be deleted instead of the lowest keys.\n\nIf no options are provided, all entries will be deleted. The `callback` function will be called with no arguments if the operation was successful or with an `Error` if it failed for any reason.\n\n### `chainedBatch`\n\n#### `chainedBatch.put(key, value)`\n\nQueue a `put` operation on this batch. This may throw if `key` or `value` is invalid.\n\n#### `chainedBatch.del(key)`\n\nQueue a `del` operation on this batch. This may throw if `key` is invalid.\n\n#### `chainedBatch.clear()`\n\nClear all queued operations on this batch.\n\n#### `chainedBatch.write([options, ]callback)`\n\nCommit the queued operations for this batch. All operations will be written atomically, that is, they will either all succeed or fail with no partial commits.\n\nThere are no `options` by default but implementations may add theirs. The `callback` function will be called with no arguments if the batch is successful or with an `Error` if the batch failed for any reason.\n\nAfter `write` has been called, no further operations are allowed.\n\n#### `chainedBatch.db`\n\nA reference to the `db` that created this chained batch.\n\n### `iterator`\n\nAn iterator allows you to _iterate_ the entire store or a range. It operates on a snapshot of the store, created at the time `db.iterator()` was called. This means reads on the iterator are unaffected by simultaneous writes. Most but not all implementations can offer this guarantee.\n\nAn iterator keeps track of when a `next()` is in progress and when an `end()` has been called so it doesn't allow concurrent `next()` calls, it does allow `end()` while a `next()` is in progress and it doesn't allow either `next()` or `end()` after `end()` has been called.\n\n#### `iterator.next(callback)`\n\nAdvance the iterator and yield the entry at that key. If an error occurs, the `callback` function will be called with an `Error`. Otherwise, the `callback` receives `null`, a `key` and a `value`. The type of `key` and `value` depends on the options passed to `db.iterator()`.\n\nIf the iterator has reached its end, both `key` and `value` will be `undefined`. This happens in the following situations:\n\n- The end of the store has been reached\n- The end of the range has been reached\n- The last `iterator.seek()` was out of range.\n\n**Note:** Don't forget to call `iterator.end()`, even if you received an error.\n\n#### `iterator.seek(target)`\n\nSeek the iterator to a given key or the closest key. Subsequent calls to `iterator.next()` will yield entries with keys equal to or larger than `target`, or equal to or smaller than `target` if the `reverse` option passed to `db.iterator()` was true.\n\nIf range options like `gt` were passed to `db.iterator()` and `target` does not fall within that range, the iterator will reach its end.\n\n**Note:** At the time of writing, [`leveldown`][leveldown] is the only known implementation to support `seek()`. In other implementations, it is a noop.\n\n#### `iterator.end(callback)`\n\nEnd iteration and free up underlying resources. The `callback` function will be called with no arguments on success or with an `Error` if ending failed for any reason.\n\n#### `iterator.db`\n\nA reference to the `db` that created this iterator.\n\n### Type Support\n\nThe following applies to any method above that takes a `key` argument or option: all implementations _must_ support a `key` of type String and _should_ support a `key` of type Buffer. A `key` may not be `null`, `undefined`, a zero-length Buffer, zero-length string or zero-length array.\n\nThe following applies to any method above that takes a `value` argument or option: all implementations _must_ support a `value` of type String or Buffer. A `value` may not be `null` or `undefined` due to preexisting significance in streams and iterators.\n\nSupport of other key and value types depends on the implementation as well as its underlying storage. See also [`db._serializeKey`](#db_serializekeykey) and [`db._serializeValue`](#db_serializevaluevalue).\n\n## Private API For Implementors\n\nEach of these methods will receive exactly the number and order of arguments described. Optional arguments will receive sensible defaults. All callbacks are error-first and must be asynchronous.\n\nIf an operation within your implementation is synchronous, be sure to invoke the callback on a next tick using `process.nextTick` or some other means of microtask scheduling. For convenience, the prototypes of `AbstractLevelDOWN`, `AbstractIterator` and `AbstractChainedBatch` include a `_nextTick` method that is compatible with node and browsers.\n\n### `db = AbstractLevelDOWN([manifest])`\n\nThe constructor. Sets the `.status` to `'new'`. Optionally takes a [manifest](https://github.com/Level/supports) object which `abstract-leveldown` will enrich:\n\n```js\nAbstractLevelDOWN.call(this, {\n  bufferKeys: true,\n  snapshots: true,\n  // ..\n})\n```\n\n### `db._open(options, callback)`\n\nOpen the store. The `options` object will always have the following properties: `createIfMissing`, `errorIfExists`. If opening failed, call the `callback` function with an `Error`. Otherwise call `callback` without any arguments.\n\nThe default `_open()` is a sensible noop and invokes `callback` on a next tick.\n\n### `db._close(callback)`\n\nClose the store. If closing failed, call the `callback` function with an `Error`. Otherwise call `callback` without any arguments.\n\nThe default `_close()` is a sensible noop and invokes `callback` on a next tick.\n\n### `db._serializeKey(key)`\n\nConvert a `key` to a type supported by the underlying storage. All methods below that take a `key` argument or option - including `db._iterator()` with its range options and `iterator._seek()` with its `target` argument - will receive serialized keys. For example, if `_serializeKey` is implemented as:\n\n```js\nFakeLevelDOWN.prototype._serializeKey = function (key) {\n  return Buffer.isBuffer(key) ? key : String(key)\n}\n```\n\nThen `db.get(2, callback)` translates into `db._get('2', options, callback)`. Similarly, `db.iterator({ gt: 2 })` translates into `db._iterator({ gt: '2', ... })` and `iterator.seek(2)` translates into `iterator._seek('2')`.\n\nIf the underlying storage supports any JavaScript type or if your implementation wraps another implementation, it is recommended to make `_serializeKey` an identity function (returning the key as-is). Serialization is irreversible, unlike _encoding_ as performed by implementations like [`encoding-down`][encoding-down]. This also applies to `_serializeValue`.\n\nThe default `_serializeKey()` is an identity function.\n\n### `db._serializeValue(value)`\n\nConvert a `value` to a type supported by the underlying storage. All methods below that take a `value` argument or option will receive serialized values. For example, if `_serializeValue` is implemented as:\n\n```js\nFakeLevelDOWN.prototype._serializeValue = function (value) {\n  return Buffer.isBuffer(value) ? value : String(value)\n}\n```\n\nThen `db.put(key, 2, callback)` translates into `db._put(key, '2', options, callback)`.\n\nThe default `_serializeValue()` is an identity function.\n\n### `db._get(key, options, callback)`\n\nGet a value by `key`. The `options` object will always have the following properties: `asBuffer`. If the key does not exist, call the `callback` function with a `new Error('NotFound')`. Otherwise call `callback` with `null` as the first argument and the value as the second.\n\nThe default `_get()` invokes `callback` on a next tick with a `NotFound` error. It must be overridden.\n\n### `db._put(key, value, options, callback)`\n\nStore a new entry or overwrite an existing entry. There are no default options but `options` will always be an object. If putting failed, call the `callback` function with an `Error`. Otherwise call `callback` without any arguments.\n\nThe default `_put()` invokes `callback` on a next tick. It must be overridden.\n\n### `db._del(key, options, callback)`\n\nDelete an entry. There are no default options but `options` will always be an object. If deletion failed, call the `callback` function with an `Error`. Otherwise call `callback` without any arguments.\n\nThe default `_del()` invokes `callback` on a next tick. It must be overridden.\n\n### `db._batch(operations, options, callback)`\n\nPerform multiple _put_ and/or _del_ operations in bulk. The `operations` argument is always an `Array` containing a list of operations to be executed sequentially, although as a whole they should be performed as an atomic operation. Each operation is guaranteed to have at least `type` and `key` properties. There are no default options but `options` will always be an object. If the batch failed, call the `callback` function with an `Error`. Otherwise call `callback` without any arguments.\n\nThe default `_batch()` invokes `callback` on a next tick. It must be overridden.\n\n### `db._chainedBatch()`\n\nThe default `_chainedBatch()` returns a functional `AbstractChainedBatch` instance that uses `db._batch(array, options, callback)` under the hood. The prototype is available on the main exports for you to extend. If you want to implement chainable batch operations in a different manner then you should extend `AbstractChainedBatch` and return an instance of this prototype in the `_chainedBatch()` method:\n\n```js\nvar AbstractChainedBatch = require('abstract-leveldown').AbstractChainedBatch\nvar inherits = require('util').inherits\n\nfunction ChainedBatch (db) {\n  AbstractChainedBatch.call(this, db)\n}\n\ninherits(ChainedBatch, AbstractChainedBatch)\n\nFakeLevelDOWN.prototype._chainedBatch = function () {\n  return new ChainedBatch(this)\n}\n```\n\n### `db._iterator(options)`\n\nThe default `_iterator()` returns a noop `AbstractIterator` instance. It must be overridden, by extending `AbstractIterator` (available on the main module exports) and returning an instance of this prototype in the `_iterator(options)` method.\n\nThe `options` object will always have the following properties: `reverse`, `keys`, `values`, `limit`, `keyAsBuffer` and `valueAsBuffer`.\n\n### `db._clear(options, callback)`\n\n**This method is experimental and optional for the time being. To enable its tests, set the [`clear` option of the test suite](#excluding-tests) to `true`.**\n\nDelete all entries or a range. Does not have to be atomic. It is recommended (and possibly mandatory in the future) to operate on a snapshot so that writes scheduled after a call to `clear()` will not be affected.\n\nThe default `_clear()` uses `_iterator()` and `_del()` to provide a reasonable fallback, but requires binary key support. It is _recommended_ to implement `_clear()` with more performant primitives than `_iterator()` and `_del()` if the underlying storage has such primitives. Implementations that don't support binary keys _must_ implement their own `_clear()`.\n\nImplementations that wrap another `db` can typically forward the `_clear()` call to that `db`, having transformed range options if necessary.\n\nThe `options` object will always have the following properties: `reverse` and `limit`.\n\n### `iterator = AbstractIterator(db)`\n\nThe first argument to this constructor must be an instance of your `AbstractLevelDOWN` implementation. The constructor will set `iterator.db` which is used to access `db._serialize*` and ensures that `db` will not be garbage collected in case there are no other references to it.\n\n#### `iterator._next(callback)`\n\nAdvance the iterator and yield the entry at that key. If nexting failed, call the `callback` function with an `Error`. Otherwise, call `callback` with `null`, a `key` and a `value`.\n\nThe default `_next()` invokes `callback` on a next tick. It must be overridden.\n\n#### `iterator._seek(target)`\n\nSeek the iterator to a given key or the closest key. This method is optional.\n\n#### `iterator._end(callback)`\n\nFree up underlying resources. This method is guaranteed to only be called once. If ending failed, call the `callback` function with an `Error`. Otherwise call `callback` without any arguments.\n\nThe default `_end()` invokes `callback` on a next tick. Overriding is optional.\n\n### `chainedBatch = AbstractChainedBatch(db)`\n\nThe first argument to this constructor must be an instance of your `AbstractLevelDOWN` implementation. The constructor will set `chainedBatch.db` which is used to access `db._serialize*` and ensures that `db` will not be garbage collected in case there are no other references to it.\n\n#### `chainedBatch._put(key, value)`\n\nQueue a `put` operation on this batch.\n\n#### `chainedBatch._del(key)`\n\nQueue a `del` operation on this batch.\n\n#### `chainedBatch._clear()`\n\nClear all queued operations on this batch.\n\n#### `chainedBatch._write(options, callback)`\n\nThe default `_write` method uses `db._batch`. If the `_write` method is overridden it must atomically commit the queued operations. There are no default options but `options` will always be an object. If committing fails, call the `callback` function with an `Error`. Otherwise call `callback` without any arguments.\n\n## Test Suite\n\nTo prove that your implementation is `abstract-leveldown` compliant, include the abstract test suite in your `test.js` (or similar):\n\n```js\nconst test = require('tape')\nconst suite = require('abstract-leveldown/test')\nconst YourDOWN = require('.')\n\nsuite({\n  test: test,\n  factory: function () {\n    return new YourDOWN()\n  }\n})\n```\n\nThis is the most minimal setup. The `test` option _must_ be a function that is API-compatible with `tape`. The `factory` option _must_ be a function that returns a unique and isolated database instance. The factory will be called many times by the test suite.\n\nIf your implementation is disk-based we recommend using [`tempy`](https://github.com/sindresorhus/tempy) (or similar) to create unique temporary directories. Your setup could look something like:\n\n```js\nconst test = require('tape')\nconst tempy = require('tempy')\nconst suite = require('abstract-leveldown/test')\nconst YourDOWN = require('.')\n\nsuite({\n  test: test,\n  factory: function () {\n    return new YourDOWN(tempy.directory())\n  }\n})\n```\n\n### Excluding tests\n\nAs not every implementation can be fully compliant due to limitations of its underlying storage, some tests may be skipped. For example, to skip snapshot tests:\n\n```js\nsuite({\n  // ..\n  snapshots: false\n})\n```\n\nThis also serves as a signal to users of your implementation. The following options are available:\n\n- `bufferKeys`: set to `false` if binary keys are not supported by the underlying storage\n- `seek`: set to `false` if your `iterator` does not implement `_seek`\n- `clear`: defaults to `false` until a next major release. Set to `true` if your implementation either implements `_clear()` itself or is suitable to use the default implementation of `_clear()` (which requires binary key support).\n- `snapshots`: set to `false` if any of the following is true:\n  - Reads don't operate on a [snapshot](#iterator)\n  - Snapshots are created asynchronously\n- `createIfMissing` and `errorIfExists`: set to `false` if `db._open()` does not support these options.\n\nThis metadata will be moved to manifests (`db.supports`) in the future.\n\n### Setup and teardown\n\nTo perform (a)synchronous work before or after each test, you may define `setUp` and `tearDown` functions:\n\n```js\nsuite({\n  // ..\n  setUp: function (t) {\n    t.end()\n  },\n  tearDown: function (t) {\n    t.end()\n  }\n})\n```\n\n### Reusing `testCommon`\n\nThe input to the test suite is a `testCommon` object. Should you need to reuse `testCommon` for your own (additional) tests, use the included utility to create a `testCommon` with defaults:\n\n```js\nconst test = require('tape')\nconst suite = require('abstract-leveldown/test')\nconst YourDOWN = require('.')\n\nconst testCommon = suite.common({\n  test: test,\n  factory: function () {\n    return new YourDOWN()\n  }\n})\n\nsuite(testCommon)\n```\n\nThe `testCommon` object will have all the properties describe above: `test`, `factory`, `setUp`, `tearDown` and the skip options. You might use it like so:\n\n```js\ntest('setUp', testCommon.setUp)\n\ntest('custom test', function (t) {\n  var db = testCommon.factory()\n  // ..\n})\n\ntest('another custom test', function (t) {\n  var db = testCommon.factory()\n  // ..\n})\n\ntest('tearDown', testCommon.tearDown)\n```\n\n## Spread The Word\n\nIf you'd like to share your awesome implementation with the world, here's what you might want to do:\n\n- Add an awesome badge to your `README`: `![level badge](https://leveljs.org/img/badge.svg)`\n- Publish your awesome module to [npm](https://npmjs.org)\n- Send a Pull Request to [Level/awesome](https://github.com/Level/awesome) to advertise your work!\n\n## Install\n\nWith [npm](https://npmjs.org) do:\n\n```\nnpm install abstract-leveldown\n```\n\n## Contributing\n\n[`Level/abstract-leveldown`](https://github.com/Level/abstract-leveldown) is an **OPEN Open Source Project**. This means that:\n\n> Individuals making significant and valuable contributions are given commit-access to the project to contribute as they see fit. This project is more like an open wiki than a standard guarded open source project.\n\nSee the [Contribution Guide](https://github.com/Level/community/blob/master/CONTRIBUTING.md) for more details.\n\n## Big Thanks\n\nCross-browser Testing Platform and Open Source ♥ Provided by [Sauce Labs](https://saucelabs.com).\n\n[![Sauce Labs logo](./sauce-labs.svg)](https://saucelabs.com)\n\n## Donate\n\nTo sustain [`Level`](https://github.com/Level) and its activities, become a backer or sponsor on [Open Collective](https://opencollective.com/level). Your logo or avatar will be displayed on our 28+ [GitHub repositories](https://github.com/Level) and [npm](https://www.npmjs.com/) packages. 💖\n\n### Backers\n\n[![Open Collective backers](https://opencollective.com/level/backers.svg?width=890)](https://opencollective.com/level)\n\n### Sponsors\n\n[![Open Collective sponsors](https://opencollective.com/level/sponsors.svg?width=890)](https://opencollective.com/level)\n\n## License\n\n[MIT](LICENSE.md) © 2013-present Rod Vagg and [Contributors](CONTRIBUTORS.md).\n\n[level-badge]: https://leveljs.org/img/badge.svg\n\n[encoding-down]: https://github.com/Level/encoding-down\n\n[leveldown]: https://github.com/Level/leveldown\n",
    "licenseText": "# The MIT License (MIT)\n\n**Copyright © 2013-present Rod Vagg and [Contributors](CONTRIBUTORS.md).**\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\nSOFTWARE.\n"
  },
  "artifacts": [],
  "remote": {
    "resolved": "https://registry.yarnpkg.com/abstract-leveldown/-/abstract-leveldown-6.2.3.tgz#036543d87e3710f2528e47040bc3261b77a9a8eb",
    "type": "tarball",
    "reference": "https://registry.yarnpkg.com/abstract-leveldown/-/abstract-leveldown-6.2.3.tgz",
    "hash": "036543d87e3710f2528e47040bc3261b77a9a8eb",
    "integrity": "sha512-BsLm5vFMRUrrLeCcRc+G0t2qOaTzpoJQLOubq2XM72eNpjF5UdU5o/5NvlNhx95XHcAvcl8OMXr4mlg/fRgUXQ==",
    "registry": "npm",
    "packageName": "abstract-leveldown",
    "cacheIntegrity": "sha512-BsLm5vFMRUrrLeCcRc+G0t2qOaTzpoJQLOubq2XM72eNpjF5UdU5o/5NvlNhx95XHcAvcl8OMXr4mlg/fRgUXQ== sha1-A2VD2H43EPJSjkcEC8MmG3epqOs="
  },
  "registry": "npm",
  "hash": "036543d87e3710f2528e47040bc3261b77a9a8eb"
}